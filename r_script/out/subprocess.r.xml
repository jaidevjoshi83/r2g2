<tool id="subprocess" name="subprocess" version="0.1.0" profile="22.01" >
    <description>test</description>
    <requirements>
    
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <version_command>subprocess.r --version</version_command>
    <command><![CDATA[
          Rscript '$__tool_directory__/subprocess.r'
${verbose}


#if $str( $epochs ):
    --epochs '${epochs}'
#end if


#if $str( $lr ):
    --lr '${lr}'
#end if


#if $str( $input_file ):
    --input-file '${input_file}'
#end if


#if $str( $output_file ):
    --output-file '${output_file}'
#end if


    ]]></command>
    <inputs>
        <param name="verbose" type="boolean" label="Verbose" truevalue="--verbose" falsevalue="" checked="true" optional="True" argument="--verbose" help="Enable verbose output"/>
        <param name="epochs" type="text" label="Epochs" value="10" optional="True" argument="--epochs" help="Number of epochs"/>
        <param name="lr" type="text" label="Lr" value="0.001" optional="True" argument="--lr" help="Learning rate"/>
        <param name="input_file" type="text" label="Input File" value="" optional="True" argument="--input-file" help="Input CSV file"/>
    </inputs>
    <outputs>
        <data name='output'  format='tabular' label='${tool.name} on $on_string (tabular)' from_work_dir='out.tsv'/>
    </outputs>
    <help><![CDATA[


  usage: subprocess.r [-h] [--verbose] [--epochs EPOCHS] [--lr LR] [--input-file INPUT_FILE]
                             [--output-file OUTPUT_FILE]
  
  test
  
  options:
    -h, --help            show this help message and exit
    --verbose             Enable verbose output
    --epochs EPOCHS       Number of epochs
    --lr LR               Learning rate
    --input-file INPUT_FILE
                          Input CSV file
    --output-file OUTPUT_FILE
                          Output CSV file
  


    ]]></help>
</tool>